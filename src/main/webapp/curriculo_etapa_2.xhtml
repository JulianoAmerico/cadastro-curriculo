<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	lang="pt-br">
<h:head>
	<meta charset="utf-8"/>
	<meta name="author" content="Juliano R. Américo"/>
	<meta name="keywords" content="Cadastro de Currículo, Currículo, currículo"/>
	<meta name="description" content="Cadastro de Currículo Etapa - 2"/>
	<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
	<title>Cadastro de Currículo Etapa - 2</title>
</h:head>
<h:body>
<!-- Recursos -->
<h:outputStylesheet library="css" name="estilo.css"/>

<!-- Topo da página -->
<header>
	<h1>Cadastro de Currículo</h1>
</header>

<!-- Formulário de cadastro de currículo - Experiência Profissional -->
<section>
	<article>
		<header>
			<h2>Experiência Profissional</h2>
			<h3>Etapa 2 de 3</h3>
		</header>
		<h:form id="formulario">
			<p:messages id="messages" showDetail="true" closable="true">
				<p:autoUpdate/>
			</p:messages>
			
			<p:commandButton value="Inserir" action="#{formulario.inserirExpProfissional}" update="formulario"/>
			<br/>
			<br/>			
			<p:dataTable value="#{formulario.candidato.expProfissional}" var="exp" styleClass="tabela" headerClass="cabecalho" columnClasses="colEmpresa,colInicio,colTermino,colCargo,colArea,colDesc,colOp"
				rendered="#{formulario.candidato.expProfissional.size() > 0}">
				<p:column headerText="Empresa">
					<p:outputLabel value="#{exp.empresa}" rendered="#{!exp.edicao}"/>
					<p:inputText value="#{exp.empresa}" rendered="#{exp.edicao}" styleClass="inputText"/>
				</p:column>
				
				<p:column headerText="Inicio">
					<p:outputLabel value="#{exp.inicio}" rendered="#{!exp.edicao}">
						<f:convertDateTime pattern="dd/MM/yyyy"/>
					</p:outputLabel>
					<p:inputText value="#{exp.inicio}" rendered="#{exp.edicao}" styleClass="inputDate">
						<f:convertDateTime pattern="dd/MM/yyyy"/>
					</p:inputText>
				</p:column>
				
				<p:column headerText="Término">	
					<h:panelGroup rendered="#{!exp.edicao}">
						<p:outputLabel value="#{exp.termino}" rendered="#{!exp.ateMomento}">
							<f:convertDateTime pattern="dd/MM/yyyy"/>
						</p:outputLabel>
						<p:outputText value="Até o momento" rendered="#{exp.ateMomento}"/>
					</h:panelGroup>
					<h:panelGroup rendered="#{exp.edicao}">
						<p:inputText value="#{exp.termino}" styleClass="inputDate">
							<f:convertDateTime pattern="dd/MM/yyyy"/>
						</p:inputText>
						<p:selectBooleanCheckbox value="#{exp.ateMomento}"/> Até o momento						
					</h:panelGroup>
				</p:column>
				
				<p:column headerText="Cargo">
					<p:outputLabel value="#{exp.cargo}" rendered="#{!exp.edicao}"/>
					<p:inputText value="#{exp.cargo}" rendered="#{exp.edicao}" styleClass="inputText"/>
				</p:column>
				
				<p:column headerText="Área">
					<p:outputLabel value="#{exp.areaAtuacao}" rendered="#{!exp.edicao}"/>
					<p:inputText value="#{exp.areaAtuacao}" rendered="#{exp.edicao}" styleClass="inputText"/>
				</p:column>
				
				<p:column headerText="Descrição de Trabalho">
					<p:outputLabel value="#{exp.descricaoExperiencia}" rendered="#{!exp.edicao}"/>
					<p:inputTextarea value="#{exp.descricaoExperiencia}" rendered="#{exp.edicao}" styleClass="inputTextArea"/>
				</p:column>
				
				<p:column headerText="Ações">
					<p:commandButton value="Salvar" action="#{formulario.salvarExpProfissional(exp)}" rendered="#{exp.edicao}"/>
					<h:panelGroup rendered="#{!exp.edicao}">
						<p:commandButton value="Editar" action="#{formulario.editarExpProfissional(exp)}"/> |
						<p:commandButton value="Excluir" action="#{formulario.excluirExpProfissional(exp)}"/>
					</h:panelGroup>
				</p:column>
			</p:dataTable>
			<br/>
			
			<p:commandButton value="&lt;- Etapa 1" action="curriculo_etapa_1"/> &nbsp;
			<p:commandButton value="Etapa 3 -&gt;" action="curriculo_etapa_3"/>
		</h:form>
	</article>
</section>
</h:body>
</html>